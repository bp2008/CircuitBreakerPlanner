/* From https://github.com/nayuki/QR-Code-generator */
var qrcodegen;
(function(q){function l(d,a,b){if(0>a||31<a||0!=d>>>a)throw new RangeError("Value out of range");for(--a;0<=a;a--)b.push(d>>>a&1)}function m(d){if(!d)throw Error("Assertion error");}var h=function(){function d(a,b,c,e){this.version=a;this.errorCorrectionLevel=b;this.modules=[];this.isFunction=[];if(a<d.MIN_VERSION||a>d.MAX_VERSION)throw new RangeError("Version value out of range");if(-1>e||7<e)throw new RangeError("Mask value out of range");this.size=4*a+17;b=[];for(a=0;a<this.size;a++)b.push(!1);for(a=
0;a<this.size;a++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();c=this.addEccAndInterleave(c);this.drawCodewords(c);if(-1==e)for(c=1E9,a=0;8>a;a++)this.applyMask(a),this.drawFormatBits(a),b=this.getPenaltyScore(),b<c&&(e=a,c=b),this.applyMask(a);m(0<=e&&7>=e);this.mask=e;this.applyMask(e);this.drawFormatBits(e);this.isFunction=[]}d.encodeText=function(a,b){var c=q.QrSegment.makeSegments(a);return d.encodeSegments(c,b)};d.encodeBinary=function(a,b){var c=
q.QrSegment.makeBytes(a);return d.encodeSegments([c],b)};d.encodeSegments=function(a,b,c,e,g,f){void 0===c&&(c=1);void 0===e&&(e=40);void 0===g&&(g=-1);void 0===f&&(f=!0);if(!(d.MIN_VERSION<=c&&c<=e&&e<=d.MAX_VERSION)||-1>g||7<g)throw new RangeError("Invalid value");for(;;c++){var k=8*d.getNumDataCodewords(c,b),n=t.getTotalBits(a,c);if(n<=k){e=n;break}if(c>=e)throw new RangeError("Data too long");}k=0;for(n=[d.Ecc.MEDIUM,d.Ecc.QUARTILE,d.Ecc.HIGH];k<n.length;k++){var p=n[k];f&&e<=8*d.getNumDataCodewords(c,
p)&&(b=p)}f=[];for(k=0;k<a.length;k++)for(p=a[k],l(p.mode.modeBits,4,f),l(p.numChars,p.mode.numCharCountBits(c),f),n=0,p=p.getData();n<p.length;n++)f.push(p[n]);m(f.length==e);a=8*d.getNumDataCodewords(c,b);m(f.length<=a);l(0,Math.min(4,a-f.length),f);l(0,(8-f.length%8)%8,f);m(0==f.length%8);for(e=236;f.length<a;e^=253)l(e,8,f);for(var r=[];8*r.length<f.length;)r.push(0);f.forEach(function(u,v){return r[v>>>3]|=u<<7-(v&7)});return new d(c,b,r,g)};d.prototype.getModule=function(a,b){return 0<=a&&a<
this.size&&0<=b&&b<this.size&&this.modules[b][a]};d.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,0==a%2),this.setFunctionModule(a,6,0==a%2);this.drawFinderPattern(3,3);this.drawFinderPattern(this.size-4,3);this.drawFinderPattern(3,this.size-4);var b=this.getAlignmentPatternPositions(),c=b.length;for(a=0;a<c;a++)for(var e=0;e<c;e++)0==a&&0==e||0==a&&e==c-1||a==c-1&&0==e||this.drawAlignmentPattern(b[a],b[e]);this.drawFormatBits(0);this.drawVersion()};
d.prototype.drawFormatBits=function(a){var b=this.errorCorrectionLevel.formatBits<<3|a,c=b;for(a=0;10>a;a++)c=c<<1^1335*(c>>>9);b=(b<<10|c)^21522;m(0==b>>>15);for(a=0;5>=a;a++)this.setFunctionModule(8,a,0!=(b>>>a&1));this.setFunctionModule(8,7,0!=(b>>>6&1));this.setFunctionModule(8,8,0!=(b>>>7&1));this.setFunctionModule(7,8,0!=(b>>>8&1));for(a=9;15>a;a++)this.setFunctionModule(14-a,8,0!=(b>>>a&1));for(a=0;8>a;a++)this.setFunctionModule(this.size-1-a,8,0!=(b>>>a&1));for(a=8;15>a;a++)this.setFunctionModule(8,
this.size-15+a,0!=(b>>>a&1));this.setFunctionModule(8,this.size-8,!0)};d.prototype.drawVersion=function(){if(!(7>this.version)){for(var a=this.version,b=0;12>b;b++)a=a<<1^7973*(a>>>11);a|=this.version<<12;m(0==a>>>18);for(b=0;18>b;b++){var c=0!=(a>>>b&1),e=this.size-11+b%3,g=Math.floor(b/3);this.setFunctionModule(e,g,c);this.setFunctionModule(g,e,c)}}};d.prototype.drawFinderPattern=function(a,b){for(var c=-4;4>=c;c++)for(var e=-4;4>=e;e++){var g=Math.max(Math.abs(e),Math.abs(c)),f=a+e,k=b+c;0<=f&&
f<this.size&&0<=k&&k<this.size&&this.setFunctionModule(f,k,2!=g&&4!=g)}};d.prototype.drawAlignmentPattern=function(a,b){for(var c=-2;2>=c;c++)for(var e=-2;2>=e;e++)this.setFunctionModule(a+e,b+c,1!=Math.max(Math.abs(e),Math.abs(c)))};d.prototype.setFunctionModule=function(a,b,c){this.modules[b][a]=c;this.isFunction[b][a]=!0};d.prototype.addEccAndInterleave=function(a){var b=this.version,c=this.errorCorrectionLevel;if(a.length!=d.getNumDataCodewords(b,c))throw new RangeError("Invalid argument");var e=
d.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][b],g=d.ECC_CODEWORDS_PER_BLOCK[c.ordinal][b];b=Math.floor(d.getNumRawDataModules(b)/8);for(var f=e-b%e,k=Math.floor(b/e),n=[],p=d.reedSolomonComputeDivisor(g),r=c=0;c<e;c++){var u=a.slice(r,r+k-g+(c<f?0:1));r+=u.length;var v=d.reedSolomonComputeRemainder(u,p);c<f&&u.push(0);n.push(u.concat(v))}var w=[];a=function(x){n.forEach(function(y,z){(x!=k-g||z>=f)&&w.push(y[x])})};for(c=0;c<n[0].length;c++)a(c);m(w.length==b);return w};d.prototype.drawCodewords=function(a){if(a.length!=
Math.floor(d.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var b=0,c=this.size-1;1<=c;c-=2){6==c&&(c=5);for(var e=0;e<this.size;e++)for(var g=0;2>g;g++){var f=c-g,k=0==(c+1&2)?this.size-1-e:e;!this.isFunction[k][f]&&b<8*a.length&&(this.modules[k][f]=0!=(a[b>>>3]>>>7-(b&7)&1),b++)}}m(b==8*a.length)};d.prototype.applyMask=function(a){if(0>a||7<a)throw new RangeError("Mask value out of range");for(var b=0;b<this.size;b++)for(var c=0;c<this.size;c++){switch(a){case 0:var e=
0==(c+b)%2;break;case 1:e=0==b%2;break;case 2:e=0==c%3;break;case 3:e=0==(c+b)%3;break;case 4:e=0==(Math.floor(c/3)+Math.floor(b/2))%2;break;case 5:e=0==c*b%2+c*b%3;break;case 6:e=0==(c*b%2+c*b%3)%2;break;case 7:e=0==((c+b)%2+c*b%3)%2;break;default:throw Error("Unreachable");}!this.isFunction[b][c]&&e&&(this.modules[b][c]=!this.modules[b][c])}};d.prototype.getPenaltyScore=function(){for(var a=0,b=0;b<this.size;b++){for(var c=!1,e=0,g=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[b][f]==c?(e++,
5==e?a+=d.PENALTY_N1:5<e&&a++):(this.finderPenaltyAddHistory(e,g),c||(a+=this.finderPenaltyCountPatterns(g)*d.PENALTY_N3),c=this.modules[b][f],e=1);a+=this.finderPenaltyTerminateAndCount(c,e,g)*d.PENALTY_N3}for(f=0;f<this.size;f++){c=!1;e=0;g=[0,0,0,0,0,0,0];for(b=0;b<this.size;b++)this.modules[b][f]==c?(e++,5==e?a+=d.PENALTY_N1:5<e&&a++):(this.finderPenaltyAddHistory(e,g),c||(a+=this.finderPenaltyCountPatterns(g)*d.PENALTY_N3),c=this.modules[b][f],e=1);a+=this.finderPenaltyTerminateAndCount(c,e,
g)*d.PENALTY_N3}for(b=0;b<this.size-1;b++)for(f=0;f<this.size-1;f++)c=this.modules[b][f],c==this.modules[b][f+1]&&c==this.modules[b+1][f]&&c==this.modules[b+1][f+1]&&(a+=d.PENALTY_N2);f=b=0;for(c=this.modules;f<c.length;f++)b=c[f].reduce(function(k,n){return k+(n?1:0)},b);f=this.size*this.size;b=Math.ceil(Math.abs(20*b-10*f)/f)-1;m(0<=b&&9>=b);a+=b*d.PENALTY_N4;m(0<=a&&2568888>=a);return a};d.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var a=Math.floor(this.version/
7)+2,b=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*a-2)),c=[6],e=this.size-7;c.length<a;e-=b)c.splice(1,0,e);return c};d.getNumRawDataModules=function(a){if(a<d.MIN_VERSION||a>d.MAX_VERSION)throw new RangeError("Version number out of range");var b=(16*a+128)*a+64;if(2<=a){var c=Math.floor(a/7)+2;b-=(25*c-10)*c-55;7<=a&&(b-=36)}m(208<=b&&29648>=b);return b};d.getNumDataCodewords=function(a,b){return Math.floor(d.getNumRawDataModules(a)/8)-d.ECC_CODEWORDS_PER_BLOCK[b.ordinal][a]*d.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][a]};
d.reedSolomonComputeDivisor=function(a){if(1>a||255<a)throw new RangeError("Degree out of range");for(var b=[],c=0;c<a-1;c++)b.push(0);b.push(1);var e=1;for(c=0;c<a;c++){for(var g=0;g<b.length;g++)b[g]=d.reedSolomonMultiply(b[g],e),g+1<b.length&&(b[g]^=b[g+1]);e=d.reedSolomonMultiply(e,2)}return b};d.reedSolomonComputeRemainder=function(a,b){for(var c=b.map(function(f){return 0}),e=function(f){var k=f^c.shift();c.push(0);b.forEach(function(n,p){return c[p]^=d.reedSolomonMultiply(n,k)})},g=0;g<a.length;g++)e(a[g]);
return c};d.reedSolomonMultiply=function(a,b){if(0!=a>>>8||0!=b>>>8)throw new RangeError("Byte out of range");for(var c=0,e=7;0<=e;e--)c=c<<1^285*(c>>>7),c^=(b>>>e&1)*a;m(0==c>>>8);return c};d.prototype.finderPenaltyCountPatterns=function(a){var b=a[1];m(b<=3*this.size);var c=0<b&&a[2]==b&&a[3]==3*b&&a[4]==b&&a[5]==b;return(c&&a[0]>=4*b&&a[6]>=b?1:0)+(c&&a[6]>=4*b&&a[0]>=b?1:0)};d.prototype.finderPenaltyTerminateAndCount=function(a,b,c){a&&(this.finderPenaltyAddHistory(b,c),b=0);b+=this.size;this.finderPenaltyAddHistory(b,
c);return this.finderPenaltyCountPatterns(c)};d.prototype.finderPenaltyAddHistory=function(a,b){0==b[0]&&(a+=this.size);b.pop();b.unshift(a)};d.MIN_VERSION=1;d.MAX_VERSION=40;d.PENALTY_N1=3;d.PENALTY_N2=3;d.PENALTY_N3=40;d.PENALTY_N4=10;d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,
49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];return d}();q.QrCode=h;var t=function(){function d(a,b,c){this.mode=a;this.numChars=b;this.bitData=c;if(0>b)throw new RangeError("Invalid argument");this.bitData=c.slice()}d.makeBytes=function(a){for(var b=[],c=0;c<a.length;c++)l(a[c],8,b);return new d(d.Mode.BYTE,a.length,
b)};d.makeNumeric=function(a){if(!d.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var b=[],c=0;c<a.length;){var e=Math.min(a.length-c,3);l(parseInt(a.substr(c,e),10),3*e+1,b);c+=e}return new d(d.Mode.NUMERIC,a.length,b)};d.makeAlphanumeric=function(a){if(!d.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var b=[],c;for(c=0;c+2<=a.length;c+=2){var e=45*d.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c));e+=d.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+
1));l(e,11,b)}c<a.length&&l(d.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,b);return new d(d.Mode.ALPHANUMERIC,a.length,b)};d.makeSegments=function(a){return""==a?[]:d.isNumeric(a)?[d.makeNumeric(a)]:d.isAlphanumeric(a)?[d.makeAlphanumeric(a)]:[d.makeBytes(d.toUtf8ByteArray(a))]};d.makeEci=function(a){var b=[];if(0>a)throw new RangeError("ECI assignment value out of range");if(128>a)l(a,8,b);else if(16384>a)l(2,2,b),l(a,14,b);else if(1E6>a)l(6,3,b),l(a,21,b);else throw new RangeError("ECI assignment value out of range");
return new d(d.Mode.ECI,0,b)};d.isNumeric=function(a){return d.NUMERIC_REGEX.test(a)};d.isAlphanumeric=function(a){return d.ALPHANUMERIC_REGEX.test(a)};d.prototype.getData=function(){return this.bitData.slice()};d.getTotalBits=function(a,b){for(var c=0,e=0;e<a.length;e++){var g=a[e],f=g.mode.numCharCountBits(b);if(g.numChars>=1<<f)return Infinity;c+=4+f+g.bitData.length}return c};d.toUtf8ByteArray=function(a){a=encodeURI(a);for(var b=[],c=0;c<a.length;c++)"%"!=a.charAt(c)?b.push(a.charCodeAt(c)):
(b.push(parseInt(a.substr(c+1,2),16)),c+=2);return b};d.NUMERIC_REGEX=/^[0-9]*$/;d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/;d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";return d}();q.QrSegment=t})(qrcodegen||(qrcodegen={}));(function(q){(function(l){var m=function(){function h(t,d){this.ordinal=t;this.formatBits=d}h.LOW=new h(0,1);h.MEDIUM=new h(1,0);h.QUARTILE=new h(2,3);h.HIGH=new h(3,2);return h}();l.Ecc=m})(q.QrCode||(q.QrCode={}))})(qrcodegen||(qrcodegen={}));
(function(q){(function(l){var m=function(){function h(t,d){this.modeBits=t;this.numBitsCharCount=d}h.prototype.numCharCountBits=function(t){return this.numBitsCharCount[Math.floor((t+7)/17)]};h.NUMERIC=new h(1,[10,12,14]);h.ALPHANUMERIC=new h(2,[9,11,13]);h.BYTE=new h(4,[8,16,16]);h.KANJI=new h(8,[8,10,12]);h.ECI=new h(7,[0,0,0]);return h}();l.Mode=m})(q.QrSegment||(q.QrSegment={}))})(qrcodegen||(qrcodegen={}));